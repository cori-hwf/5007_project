{"ast":null,"code":"export async function graphQLFetch(query) {\n  let variables = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  try {\n    const response = await fetch('http://localhost:8081/graphql', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        query,\n        variables\n      })\n    });\n    const body = await response.text();\n    const result = JSON.parse(body); // console.log(`body is ${body}`)\n\n    if (result.errors) {\n      const error = result.errors[0];\n      alert(`${error.message}`);\n      return null;\n    }\n\n    return result.data;\n  } catch (e) {\n    alert(`Error in sending data to server: ${e.message}`);\n    return null;\n  }\n}","map":{"version":3,"sources":["C:/Users/ASUS/OneDrive/cori_5007_project_v1/5007_project/frontend/src/helper/graphqlFetch.js"],"names":["graphQLFetch","query","variables","response","fetch","method","headers","body","JSON","stringify","text","result","parse","errors","error","alert","message","data","e"],"mappings":"AAAA,OACI,eAAeA,YAAf,CAA4BC,KAA5B,EAAmD;AAAA,MAAhBC,SAAgB,uEAAJ,EAAI;;AACnD,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAAD,EAAkC;AAC5DC,MAAAA,MAAM,EAAE,MADoD;AAE5DC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFmD;AAG5DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,QAAAA,KAAF;AAASC,QAAAA;AAAT,OAAf;AAHsD,KAAlC,CAA5B;AAKA,UAAMK,IAAI,GAAG,MAAMJ,QAAQ,CAACO,IAAT,EAAnB;AACA,UAAMC,MAAM,GAAGH,IAAI,CAACI,KAAL,CAAWL,IAAX,CAAf,CAPA,CAQH;;AAEG,QAAII,MAAM,CAACE,MAAX,EAAmB;AACjB,YAAMC,KAAK,GAAIH,MAAM,CAACE,MAAP,CAAc,CAAd,CAAf;AACAE,MAAAA,KAAK,CAAE,GAAED,KAAK,CAACE,OAAQ,EAAlB,CAAL;AACA,aAAO,IAAP;AACD;;AAED,WAAOL,MAAM,CAACM,IAAd;AACD,GAjBH,CAiBI,OAAOC,CAAP,EAAU;AACVH,IAAAA,KAAK,CAAE,oCAAmCG,CAAC,CAACF,OAAQ,EAA/C,CAAL;AACA,WAAO,IAAP;AACD;AACJ","sourcesContent":["export\r\n    async function graphQLFetch(query, variables = {}) {\r\n    try {\r\n        const response = await fetch('http://localhost:8081/graphql', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json'},\r\n          body: JSON.stringify({ query, variables })\r\n        });\r\n        const body = await response.text();\r\n        const result = JSON.parse(body);\r\n     // console.log(`body is ${body}`)\r\n  \r\n        if (result.errors) {\r\n          const error  = result.errors[0]\r\n          alert(`${error.message}`);\r\n          return null\r\n        }\r\n        \r\n        return result.data;\r\n      } catch (e) {\r\n        alert(`Error in sending data to server: ${e.message}`);\r\n        return null;\r\n      }\r\n  }\r\n"]},"metadata":{},"sourceType":"module"}