[{"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/index.js":"1","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/App.js":"2","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/reportWebVitals.js":"3","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/login.js":"4","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/Movie.js":"5","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/MovieSearch.js":"6","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/MovieFeed.js":"7","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/CreateAccount.js":"8","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/DetailPage.js":"9","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/WatchList.js":"10"},{"size":522,"mtime":1650947611398,"results":"11","hashOfConfig":"12"},{"size":3939,"mtime":1650961942893,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1650947611398,"results":"14","hashOfConfig":"12"},{"size":2965,"mtime":1650961616850,"results":"15","hashOfConfig":"12"},{"size":1037,"mtime":1650947611397,"results":"16","hashOfConfig":"12"},{"size":808,"mtime":1650947611397,"results":"17","hashOfConfig":"12"},{"size":786,"mtime":1650947611397,"results":"18","hashOfConfig":"12"},{"size":2911,"mtime":1650947611396,"results":"19","hashOfConfig":"12"},{"size":3158,"mtime":1650962098785,"results":"20","hashOfConfig":"12"},{"size":262,"mtime":1650961292601,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yapb1y",{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"29"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/index.js",[],[],"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/App.js",["55","56","57","58","59","60","61","62","63"],[],"import React, {useEffect, useState} from \"react\";\nimport Movie from \"./Movie\";\nimport Login from \"./login\";\nimport MovieFeed from \"./MovieFeed\";\nimport MovieSearch from \"./MovieSearch\";\nimport CreateAccount from \"./CreateAccount\";\nimport DetailPage from \"./DetailPage\";\nimport WatchList from \"./WatchList\";\n\nclass App extends React.Component{\n  constructor() {\n    super();\n    this.state = {\n      control_state: 'main_page',\n      searchStuff: \"\",\n      click_movie_info: null,\n      logged_in_user_name: null\n    }\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.jump_to_log_in = this.jump_to_log_in.bind(this);\n    this.jump_to_create_account = this.jump_to_create_account.bind(this)\n    this.jump_to_detail_page = this.jump_to_detail_page.bind(this)\n    this.set_log_in_user = this.set_log_in_user.bind(this)\n    this.if_successful_log_in = this.if_successful_log_in.bind(this)\n  }\n\n  jump_to_log_in(){\n    console.log(this.state.control_state)\n    this.setState({control_state:'log_in'})\n  }\n\n  jump_to_create_account(){\n    this.setState({control_state:'create_account'})\n  }\n\n  set_log_in_user(user_name){\n    this.setState({logged_in_user_name: user_name})\n  }\n\n  jump_to_detail_page(move_info){\n    this.setState({control_state:'detail_page', click_movie_info : move_info})\n  }\n\n  if_successful_log_in(){\n    this.setState({control_state:'main_page'})\n  }\n\n  control() {\n    if (this.state.control_state == 'main_page') {\n      return (<MovieFeed jump={this.jump_to_detail_page}/>)\n    } else if (this.state.control_state == 'log_in') {\n      return (<Login jump={this.jump_to_create_account} set_user = {this.set_log_in_user} change_to_main = {this.if_successful_log_in}/>)\n    } else if (this.state.control_state == 'search') {\n      return (<MovieSearch {...{searchStuff: this.state.searchStuff, jump: this.jump_to_detail_page}}/>)\n    } else if(this.state.control_state == 'create_account'){\n      return (<CreateAccount jump={this.jump_to_log_in}/>)\n    } else if(this.state.control_state == 'detail_page'){\n      return (<DetailPage move_info = {this.state.click_movie_info} user_name = {this.state.logged_in_user_name}/>)\n    }else if(this.state.control_state == 'watch_list'){\n      return (<WatchList user_name = {this.state.logged_in_user_name}/>)\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const form = document.forms.searchMovies;\n    const searchStuff = form.search.value\n    if(searchStuff.trim()) {\n      this.setState({control_state: 'search'})\n      this.setState({searchStuff: searchStuff})\n      console.log(this.state)\n      form.search.value = \"\";\n    }\n  }\n\n  render() {\n    return (\n        <div>\n          <header>\n            {this.state.logged_in_user_name != null && <button className=\"NameButton\" type=\"button\" onClick={() => {this.setState({control_state: 'watch_list'})}}>{this.state.logged_in_user_name}</button>}\n            <button className=\"topButton\" type=\"button\" onClick={() =>{this.setState({control_state: 'main_page'})}}> Main Page </button>\n            {this.state.logged_in_user_name == null && <button className=\"topButton\" type=\"button\" onClick={() =>{this.setState({control_state: 'log_in'})}}> Log in </button>}\n            {this.state.logged_in_user_name != null && <button className=\"topButton\" type=\"button\" onClick={() =>{this.setState({logged_in_user_name: null, control_state: 'main_page'})}}> Log Out </button>}\n            {this.state.logged_in_user_name == null && <button className=\"topButton\" type=\"button\" onClick={() =>{this.setState({control_state: 'create_account'})}}> Create account </button>}\n            <form name=\"searchMovies\" onSubmit={this.handleSubmit}>\n              <input className=\"topSearch\" type=\"text\" name=\"search\" placeholder=\"Search...\" />\n              <button className=\"topButton\">Search</button>\n            </form>\n          </header>\n          {this.control()}\n        </div>\n    )\n  }\n}\n\n\nexport default App;\n",[],"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/reportWebVitals.js",[],[],"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/login.js",["64"],[],"import React from \"react\";\n\nasync function graphQLFetch(query, variables = {}) {\n    try {\n      const response = await fetch('http://localhost:8081/graphql', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json'},\n        body: JSON.stringify({ query, variables })\n      });\n      const body = await response.text();\n      const result = JSON.parse(body);\n      console.log(`body is ${body}`)\n\n      if (result.errors) {\n        const error  = result.errors[0]\n        alert(`${error.message}`);}\n\n      return result.data.createUser ? result.data : 'existing account';\n    } catch (e) {\n      if (!e.message){alert(\"You have an existing account, please log in.\")}\n      else alert(`Error in sending data to server: ${e.message}`);\n    }\n  }\n\nclass Login extends React.Component{\n    constructor() {\n        super();\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    async handleSubmit(e){\n        e.preventDefault();\n        const form = document.forms.login;\n        const email = form.username.value;\n        const password = form.password.value;\n        if (email.trim().length === 0 || password.trim().length === 0){\n            alert(\"Email address and Password fields are compulsary.\")\n            return;\n        }\n        const query = `query {\n        login(email: \"${email}\", password: \"${password}\")  {\n        userId\n        token\n        tokenExpiration\n        }\n        }`;\n\n        const data = await graphQLFetch(query);\n        console.log(data)\n        form.username.value = \"\"; form.password.value = \"\";\n        if (data!=\"existing account\"){alert(\"Account created\");}\n        this.props.set_user(email.trim())\n    }\n\n    render() {\n        return (\n            <div className=\"login-root\">\n                <div className=\"formbg\">\n                    <span className=\"signInTitle\">Sign in to your account</span>\n                    <form name= \"login\" id=\"stripe-login\" onSubmit={this.handleSubmit}>\n                        <div className=\"field\">\n                            <label htmlFor=\"email\">Name</label>\n                            <input type=\"text\" name=\"username\" placeholder=\"Your Email Address\"/>\n                        </div>\n                        <div className=\"field\">\n                            <label htmlFor=\"password\">Password</label>\n                            <input type=\"text\" name=\"password\" placeholder=\"Your Password\"/>\n                        </div>\n                        <div className=\"field\">\n                            <input type=\"submit\" name=\"submit\" value=\"Continue\"/>\n                        </div>\n                    </form>\n                </div>\n\n                <div className=\"footer-link\">\n                    <span>Don't have an account? <button className=\"jump\" onClick={this.props.jump} >Create Account</button></span>\n                </div>\n\n            </div>\n        );\n    }\n\n}\n\nexport default Login;\n","/Users/liguoshen/WebstormProjects/5007_project/frontend/src/Movie.js",["65","66"],[],"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/MovieSearch.js",["67","68"],[],"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/MovieFeed.js",["69"],[],"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/CreateAccount.js",["70"],[],"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/DetailPage.js",["71","72","73","74","75","76","77","78","79","80","81","82"],[],"/Users/liguoshen/WebstormProjects/5007_project/frontend/src/WatchList.js",["83"],[],{"ruleId":"84","severity":1,"message":"85","line":1,"column":16,"nodeType":"86","messageId":"87","endLine":1,"endColumn":25},{"ruleId":"84","severity":1,"message":"88","line":1,"column":27,"nodeType":"86","messageId":"87","endLine":1,"endColumn":35},{"ruleId":"84","severity":1,"message":"89","line":2,"column":8,"nodeType":"86","messageId":"87","endLine":2,"endColumn":13},{"ruleId":"90","severity":1,"message":"91","line":49,"column":34,"nodeType":"92","messageId":"93","endLine":49,"endColumn":36},{"ruleId":"90","severity":1,"message":"91","line":51,"column":41,"nodeType":"92","messageId":"93","endLine":51,"endColumn":43},{"ruleId":"90","severity":1,"message":"91","line":53,"column":41,"nodeType":"92","messageId":"93","endLine":53,"endColumn":43},{"ruleId":"90","severity":1,"message":"91","line":55,"column":40,"nodeType":"92","messageId":"93","endLine":55,"endColumn":42},{"ruleId":"90","severity":1,"message":"91","line":57,"column":40,"nodeType":"92","messageId":"93","endLine":57,"endColumn":42},{"ruleId":"90","severity":1,"message":"91","line":59,"column":39,"nodeType":"92","messageId":"93","endLine":59,"endColumn":41},{"ruleId":"90","severity":1,"message":"94","line":51,"column":17,"nodeType":"92","messageId":"93","endLine":51,"endColumn":19},{"ruleId":"95","severity":1,"message":"96","line":8,"column":5,"nodeType":"97","messageId":"98","endLine":11,"endColumn":6},{"ruleId":"99","severity":1,"message":"100","line":22,"column":17,"nodeType":"101","endLine":24,"endColumn":112},{"ruleId":"84","severity":1,"message":"102","line":4,"column":7,"nodeType":"86","messageId":"87","endLine":4,"endColumn":19},{"ruleId":"103","severity":1,"message":"104","line":15,"column":8,"nodeType":"105","endLine":15,"endColumn":10,"suggestions":"106"},{"ruleId":"84","severity":1,"message":"107","line":5,"column":7,"nodeType":"86","messageId":"87","endLine":5,"endColumn":17},{"ruleId":"90","severity":1,"message":"94","line":51,"column":17,"nodeType":"92","messageId":"93","endLine":51,"endColumn":19},{"ruleId":"84","severity":1,"message":"89","line":3,"column":8,"nodeType":"86","messageId":"87","endLine":3,"endColumn":13},{"ruleId":"84","severity":1,"message":"108","line":7,"column":7,"nodeType":"86","messageId":"87","endLine":7,"endColumn":16},{"ruleId":"84","severity":1,"message":"109","line":8,"column":7,"nodeType":"86","messageId":"87","endLine":8,"endColumn":14},{"ruleId":"103","severity":1,"message":"110","line":21,"column":8,"nodeType":"105","endLine":21,"endColumn":10,"suggestions":"111"},{"ruleId":"99","severity":1,"message":"100","line":28,"column":18,"nodeType":"101","endLine":30,"endColumn":69},{"ruleId":"99","severity":1,"message":"100","line":33,"column":17,"nodeType":"101","endLine":35,"endColumn":70},{"ruleId":"112","severity":1,"message":"113","line":45,"column":17,"nodeType":"101","endLine":45,"endColumn":71},{"ruleId":"114","severity":1,"message":"115","line":50,"column":38,"nodeType":"101","endLine":50,"endColumn":100},{"ruleId":"114","severity":1,"message":"115","line":52,"column":38,"nodeType":"101","endLine":52,"endColumn":100},{"ruleId":"114","severity":1,"message":"115","line":54,"column":38,"nodeType":"101","endLine":54,"endColumn":100},{"ruleId":"114","severity":1,"message":"115","line":56,"column":38,"nodeType":"101","endLine":56,"endColumn":100},{"ruleId":"114","severity":1,"message":"115","line":58,"column":38,"nodeType":"101","endLine":58,"endColumn":100},{"ruleId":"95","severity":1,"message":"96","line":4,"column":5,"nodeType":"97","messageId":"98","endLine":6,"endColumn":6},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'Movie' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You donâ€™t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","'FEATURED_API' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'probs.searchStuff'. Either include it or remove the dependency array.","ArrayExpression",["116"],"'SEARCH_API' is assigned a value but never used.","'per_movie' is assigned a value but never used.","'API_KEY' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'props.move_info.id'. Either include it or remove the dependency array.",["117"],"jsx-a11y/no-redundant-roles","The element button has an implicit role of button. Defining this explicitly is redundant and should be avoided.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.",{"desc":"118","fix":"119"},{"desc":"120","fix":"121"},"Update the dependencies array to be: [probs.searchStuff]",{"range":"122","text":"123"},"Update the dependencies array to be: [props.move_info.id]",{"range":"124","text":"125"},[572,574],"[probs.searchStuff]",[711,713],"[props.move_info.id]"]